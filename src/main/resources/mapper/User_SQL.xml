<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="com.sindorim.abilityocean.dao.UserDao">

	<insert id="create" parameterType="User">
	/* User_SQL.xml create 회원정보 생성 */
		INSERT INTO TW_USER
		(
		TW_USER_ID
		, TW_USER_NAME
		, TW_USER_PWD
		, REG_DT
		, ENABLED
		)
		VALUES
		(
		#{twUserId}
		, #{twUserName}
		, #{twUserPwd}
		, NOW()
		, 'Y'
		)
		
		<selectKey keyProperty="twUserCode" resultType="String" order="AFTER">
			SELECT LAST_INSERT_ID()
		</selectKey>
	
	</insert>
	
	<select id="getUsers" parameterType="User" resultType="User">
	/* User_SQL.xml getUsers 유저 목록 */
		SELECT 
			TW_USER_CODE
			, TW_USER_ID
			, TW_USER_NAME
			, TW_USER_PWD
			, REG_DT
			, ENABLED
		FROM
			TW_USER
		WHERE
			1=1
			AND TW_USER_ID = #{twUserId}
			AND TW_USER_PWD = #{twUserPwd}
	</select>
	

</mapper>